---
layout: single
title:  "첫 번째 게시물"
---

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Unity TextMeshPro 타이핑 효과 겹침 현상 해결기</title>
</head>
<body>
    <header>
        <h1>Unity TextMeshPro 타이핑 효과 겹침 현상 해결기</h1>
    </header>

    <p>
        유니티 게임 개발 중, NPC 대화창의 타이핑 효과에서 텍스트가 겹쳐 보이는 현상을 겪었습니다. 이 포스팅은 그 문제를 해결하기 위해 제가 진행했던 디버깅 과정과 최종 원인을 기록한 글입니다.
    </p>

    <h2>문제 증상</h2>
    <p>
        NPC 대화창에 타이핑 효과를 적용하면, 특히 아이템 이름이나 가격 정보가 포함된 문장에서 텍스트가 겹쳐 보였습니다. 처음에는 한글 폰트나 타이핑 효과 코드에 문제가 있다고 생각했습니다.
    </p>

    <h2>디버깅 과정</h2>
    <h3>1. 타이핑 효과 코드 점검</h3>
    <p>
        가장 먼저 의심했던 부분은 텍스트를 한 글자씩 출력하는 타이핑 효과 코드였습니다.
    </p>
    <ul>
        <li><code>string.Format</code>을 사용해 문자열을 조합하고, <code>TMP_Text</code> 컴포넌트의 <code>text +=</code> 방식으로 텍스트를 추가하는 방식이었습니다.</li>
        <li><b>문제 해결 시도</b>: <code>maxVisibleCharacters</code> 속성을 이용해 텍스트 전체를 미리 로드하고 보이는 글자 수만 늘리는 방식으로 코드를 수정했습니다. 이는 성능 면에서 더 효율적이고, 많은 타이핑 버그를 해결하는 일반적인 방법입니다.</li>
        <li><b>결과</b>: 타이핑 효과는 부드러워졌지만, 텍스트 겹침 현상은 여전했습니다.</li>
    </ul>

    <h3>2. TMP 컴포넌트 및 폰트 설정 점검</h3>
    <p>
        타이핑 효과 코드가 문제가 아님을 확인한 후, 텍스트 렌더링 자체에 문제가 있다고 판단했습니다. 특히 한글에서만 문제가 발생한다는 점이 단서였습니다.
    </p>
    <ul>
        <li><b>문제 해결 시도</b>:
            <ul>
                <li><code>TMP_Text</code> 컴포넌트에서 <code>Enable Kerning</code> 옵션을 확인하고, <code>Word Spacing</code>이나 <code>Character Spacing</code> 같은 간격 옵션들을 점검했습니다.</li>
                <li>유니티 기본 폰트인 <code>Liberation Sans</code>로 변경해 테스트해보니 겹침 현상이 사라졌습니다. 이는 폰트 문제임을 시사했습니다.</li>
                <li>이후 한글 폰트 에셋을 <b>'Font Asset Creator'로 재설정</b>하여 유니코드 문자를 모두 포함하도록 만들었습니다.</li>
            </ul>
        </li>
        <li><b>결과</b>: 텍스트 겹침 현상은 여전히 해결되지 않았습니다.</li>
    </ul>

    <h3>3. 문자열 데이터 자체 디버깅</h3>
    <p>
        코드와 폰트 모두 문제가 아니라고 판단한 후, <b>UI에 전달되는 문자열 자체에 문제가 있다고 확신</b>했습니다. <code>Debug.Log</code>를 이용해 최종 문자열을 콘솔에 출력했습니다.
    </p>
    <ul>
        <li><b>문제 해결 시도</b>:
            <ul>
                <li><code>&lt;color&gt;</code> 태그와 <code>string.Format</code> 코드를 제거하고, 순수하게 변수만 조합하여 로그를 찍어 보았습니다.</li>
                <li><code>Debug.Log</code>에 <b>줄바꿈 문자(<code>\n</code>)가 포함된 텍스트</b>가 출력되는 것을 확인했습니다. <b>심지어 콘솔 창에서도 텍스트가 겹쳐 보였습니다.</b></li>
                <li>이는 <b>문자열이 이미 손상된 상태</b>로 생성되어 UI에 전달된다는 것을 의미합니다.</li>
            </ul>
        </li>
        <li><b>결과</b>: 문제의 원인이 코드나 폰트가 아닌, <b>데이터</b>라는 것을 밝혀냈습니다.</li>
    </ul>

    <h2>최종 원인과 해결</h2>
    <p>
        수많은 디버깅 끝에 밝혀낸 최종 원인은 매우 간단했습니다.
    </p>
    <p>
        <b><code>itemName</code> (아이템 이름) 변수의 로컬라이제이션 테이블 데이터에 육안으로 보이지 않는 줄바꿈(<code>\n</code>) 문자가 포함되어 있었습니다.</b>
    </p>
    <ul>
        <li>로컬라이제이션 테이블에 '샌드위치'라는 아이템 이름을 입력하는 과정에서, 외부에서 복사/붙여넣기를 하면서 숨겨진 줄바꿈 문자가 함께 붙어 들어간 것입니다.</li>
        <li><code>itemName</code> 변수에 이 숨겨진 문자가 포함되면서, 최종 문자열 조합 시 원하지 않는 곳에서 줄바꿈이 발생해 텍스트가 겹쳐 보였습니다.</li>
    </ul>

    <p><b>해결 방법</b>:</p>
    <p>
        로컬라이제이션 테이블에서 해당 항목을 찾아, <b>기존 내용을 모두 지우고 키보드로 '샌드위치'를 수동으로 다시 입력</b>했습니다.
    </p>
    <p>
        결과적으로 모든 텍스트가 정상적으로 표시되었고, 문제는 해결되었습니다. 복잡한 코드나 설정 문제가 아니라, 보이지 않는 데이터 오류가 원인이었습니다.
    </p>
    <p>
        이 경험을 통해, 눈에 보이지 않는 버그를 찾을 때는 <b>가장 기본적인 단계부터 데이터를 검증하는 것의 중요성</b>을 깨달았습니다.
    </p>
</body>
</html>
